#!/usr/bin/env sh
set -eu

APP_HOME=$(CDPATH= cd -- "$(dirname -- "$0")" && pwd -P)

# Prefer JAVA_HOME if set
if [ -n "${JAVA_HOME:-}" ] && [ -x "$JAVA_HOME/bin/java" ]; then
  JAVA_CMD="$JAVA_HOME/bin/java"
else
  JAVA_CMD=java
fi

WRAPPER_JAR="$APP_HOME/gradle/wrapper/gradle-wrapper.jar"
WRAPPER_SHARED_JAR="$APP_HOME/gradle/wrapper/gradle-wrapper-shared.jar"
GRADLE_CLI_JAR="$APP_HOME/gradle/wrapper/gradle-cli.jar"

CLASSPATH="$WRAPPER_JAR"
if [ -f "$WRAPPER_SHARED_JAR" ]; then
  CLASSPATH="$CLASSPATH:$WRAPPER_SHARED_JAR"
fi
if [ -f "$GRADLE_CLI_JAR" ]; then
  CLASSPATH="$CLASSPATH:$GRADLE_CLI_JAR"
fi

exec "$JAVA_CMD" -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"

